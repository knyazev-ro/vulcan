## Vulcan ORM: Data Mapper for Go

**Vulcan** ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π ORM —Å –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–º **Query Builder**, –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º **Laravel Eloquent**, –Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω **Data Mapper**.

### –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Active Record, –≥–¥–µ –º–æ–¥–µ–ª—å ¬´–∑–Ω–∞–µ—Ç¬ª –æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –≤ Vulcan –º–æ–¥–µ–ª–∏ ‚Äî —ç—Ç–æ **—á–∏—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (DTO)**. –û—Ç–Ω–æ—à–µ–Ω–∏—è –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ —Ç–µ–≥–∏ –ø–æ–ª–µ–π.

---

## üõ† –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

–ú–æ–¥–µ–ª–∏ –≤ Vulcan –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã. –í—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–µ—Å—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

```go
type ReportCity struct {
    _        string   `type:"metadata" table:"report_cities" pk:"id"`
    Id       int64    `type:"column" col:"id"`
    ReportId int64    `type:"column" col:"report_id"`
    City     string   `type:"column" col:"city"`
    Code     *string  `type:"column" col:"code"` // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ NULL —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å
    Report   Report   `type:"relation" table:"reports" reltype:"belongs-to" fk:"report_id" originalkey:"id"`
}

```

> **–í–∞–∂–Ω–æ:** Vulcan –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Ö –∫–æ–ª–æ–Ω–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å–∞–Ω—ã –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ. –≠—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É **over-fetching** –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–∏–∑–∞–π–Ω–∞.

---

## üöÄ –ü–æ—á–µ–º—É Vulcan?

### 1. Zero Over-fetching

–í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ ORM –∑–∞–ø—Ä–æ—Å `db.Find(&user)` –¥–µ–ª–∞–µ—Ç `SELECT *`. –í Vulcan **—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî —ç—Ç–æ –ø—Ä–æ–µ–∫—Ü–∏—è**.

* –û–ø–∏—Å–∞–ª–∏ 2 –ø–æ–ª—è ‚Äî –ø–æ–ª—É—á–∏–ª–∏ `SELECT col1, col2`.
* –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–∑—ã–≤–∞—Ç—å `.Select()`.

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (Concurrency-first)

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å Go:
| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| **CLoad** | –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ —Å–≤—è–∑–µ–π (`HasMany`, `BelongsTo`) –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω–∞—Ö. |
| **Smart Hydration** | –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∞–ª–ª–æ–∫–∞—Ü–∏–π –ø—Ä–∏ —Å–±–æ—Ä–∫–µ —Å–ª–æ–∂–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤ –æ–±—ä–µ–∫—Ç–æ–≤. |
| **Built-in Semaphore** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–≤–∏–∂–∫–∞ ORM. |

### 3. Connection Management

–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—É–ª–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ–¥ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π:

* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `MaxOpenConns` –∏ `MaxIdleConns`.
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `ConnMaxLifetime` –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–µ—Å—Å–∏–π.

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–∏—Å–∫ –ø–æ ID —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏

```go
ctx := context.Background()
user, ok, err := vulcan.NewQuery[UserTest]().FindById(ctx, 3)

```

### –°–ª–æ–∂–Ω—ã–π Update —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Join

```go
err := vulcan.NewQuery[UserTest]().
    From("posts", "tags").
    On("posts.user_id", "=", "users.id"). 
    Where("users.id", "=", 3).
    Where("tags.name", "like", "Hardware").
    Update(ctx, map[string]any{
        "name":      "Deadman",
        "last_name": "Surree",
    })

```

---

*Vulcan ‚Äî —ç—Ç–æ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å SQL, —Å–∫–æ—Ä–æ—Å—Ç—å Go –∏ —É–¥–æ–±—Å—Ç–≤–æ Eloquent.*